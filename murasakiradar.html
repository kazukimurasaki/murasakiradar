<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Murasaki Radar</title>

<!-- The Tojo Captioner -->
<style>
  @font-face {
    font-family: "TheTojoCaptioner";
    src: url("assets/fonts/TheTojoCaptioner-Regular.ttf") format("truetype");
    font-display: swap;
  }

  :root {
    --screen-w: 346px;
    --screen-h: 320px;
    --screen-top-calc: calc(30% - 75px);
    --accent-purple: #7d4071;
  }

  html, body {
    height: 100%;
    margin: 0;
    background: #000;
    font-family: "TheTojoCaptioner", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow: hidden;
  }

  /* Background terminal frame */
  body {
    background-image: url("assets/img/terminal.png");
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    position: relative;
    z-index: 10; /* sits above the screen content */
  }

  /* Credits link (top-right) */
  #credits-link {
    position: fixed;
    top: 12px;
    right: 14px;
    z-index: 30;
    color: var(--accent-purple);
    font-size: 14px;
    text-decoration: none;
    padding: 6px 8px;
  }
  #credits-link:hover { text-decoration: underline; }

  /* Screen container (lower layer) */
  #pc-container {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: 1; /* lower than background terminal */
  }

  /* Transparent clickable hitbox */
  #screen {
    all: unset;
    position: absolute;
    width: var(--screen-w);
    height: var(--screen-h);
    top: var(--screen-top-calc);
    left: 50%;
    transform: translateX(-50%);
    cursor: pointer;
    z-index: 2; /* higher than content but below background frame */
    display: block;
  }

  #screen:focus,
  #screen:active {
    outline: none;
    box-shadow: none;
  }

  /* Screen contents (the GIFs, etc.) */
  #screen-content {
    width: 100%;
    height: 100%;
    position: relative;
    background: transparent;
    display: block;
    overflow: hidden;
    z-index: 1; /* ensure under terminal.png */
  }

  #screen-content img {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -45%) scale(0.58);
    width: auto;
    height: auto;
    max-width: 79%;
    max-height: 79%;
    object-fit: contain;
    pointer-events: none;
  }

  /* Hidden outline fix */
  #screen:focus { outline: 2px solid rgba(125,64,113,0); }

  .fade-in {
    animation: fadeIn 420ms ease forwards;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: scale(1.01); }
    to   { opacity: 1; transform: scale(1); }
  }

  @media (max-width: 480px) {
    :root {
      --screen-w: 240px;
      --screen-h: 222px;
      --screen-top-calc: calc(50% - 74px - 111px);
    }
    #credits-link { font-size: 13px; }
  }
</style>
</head>
<body>

  <a id="credits-link" href="credits.html" rel="noopener">Credits</a>

  <!-- Place screen content BELOW the terminal background -->
  <div id="pc-container" aria-hidden="false">
    <div id="screen-content" role="img" aria-live="polite"></div>
    <button id="screen" aria-label="Activate radar" title="Click the monitor screen to scan for Murasaki"></button>
  </div>

  <!-- Audio elements -->
  <audio id="sonar-sound" preload="auto" src="assets/music/sonar.mp3"></audio>
  <audio id="dokodemo-sound" preload="auto" src="assets/music/dokodemo.mp3"></audio>

  <script src="script.js"></script>
</body>
</html>
